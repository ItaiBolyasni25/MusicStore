<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.2.1/lux/bootstrap.min.css" />
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"></link>
        <!--Library for sliding carousel -->
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
        <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
        <script src="resources/js/newsfeed.js"></script>
        <script src="resources/js/indexJS.js"></script>
        <h:outputStylesheet library="css" name="style.css"  />
        <title>Sound++</title>
        <f:view>
            <f:event type="preRenderView" listener="#{SongParser.onLoad()}"/>
        </f:view>
            <f:metadata>
        <f:viewAction action="#{IndexMusicBean.init}" />
    </f:metadata>
    </h:head>
    <h:body class="backgroundcolor">

        <!--        <script>
                    $(document).ready(function () {
                        //Call news function to request the latest news of the moment when page is loaded
                        news("");
                    });
                </script>-->


        <ui:include src="navbar.xhtml"/>

        <div class="body">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#home">#{internationalization.home}</a>
                </li>
                <li class="nav-item disabled">
                    <a class="nav-link" data-toggle="tab" href="#profile">#{internationalization.profile}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#genres">#{internationalization.genres}</a>
                </li>
            </ul>

            <div id="myTabContent" class="tab-content">

                <div class="tab-pane fade show active" id="home">
                    <div class="divbackground">
                        <h:graphicImage value="assets/indexbackground.jpg" class="imgbackground"/>
                        <div class="centered">
                            <h:outputText rendered="#{empty user}" class="display-2" value="#{internationalization.welcome}" />
                            <h:outputText rendered="#{not empty user}" class="display-2" value="#{internationalization.welcome}  #{user}" />
                            <br/><br/>
                            <h:outputText class="h1" value="#{internationalization.description}" />
                            <br/><br/><br/><br/>
                            <h:panelGroup rendered="#{empty user}">
                                <div class="row">
                                    <div class="col-md-3"></div>
                                    <div class="col-md-3"><h:button class="btn btn-primary" value="#{internationalization.loginopt}" outcome="login" /></div>
                                    <div class="col-md-3"><h:button class="btn btn-primary" value="#{internationalization.signup}" outcome="register" /></div>
                                </div>
                            </h:panelGroup>
                            <br/><br/><br/><br/><br/>
                            <h:outputText class="h3" value="*#{internationalization.devices}" />
                            <br/><br/><br/><br/><br/><br/><br/><br/>
                            <h:link class="h2" value="#{internationalization.learnmore}>" outcome="about"/>
                        </div>
                    </div>

                    <br/><br/>
                    <div class="row">
                        <div class="col-md-9">
                            <h1 class="display-5">#{internationalization.newsfeed}</h1>
                            <div class="row">
                                <div class="col-md-1" id="prev">
                                    <button type="button" class="slick-prev emptybutton"><img class="arrows" src="assets/arrowprev.png"></img></button>
                                </div>                                
                                <div class="jumbotron multiple-items col-md-10" id="newsfeed">

                                </div>
                                <div class="col-md-1" id="next">
                                    <button type="button" class="slick-next emptybutton"><img class="arrows" src="assets/arrownext.png"></img></button>
                                </div>
                            </div>
                            <h:panelGroup id="albumtable" class="col-md-9">
                                <h1 class="display-5">#{internationalization.popularAlbums}</h1>
                                <div class="row">  
                                    
                                    <c:if  test="#{IndexMusicBean.albumCurrentPage != 1}">
                                        <h:form class="col-md-1">
                                        <h:commandLink class="prev" value="&laquo;" actionListener="#{IndexMusicBean.albumPrev()}">
                                             <f:ajax execute="@form" render="albumtable" /></h:commandLink>
                                    </h:form> </c:if>
                                <c:if  test="#{IndexMusicBean.albumCurrentPage == 1}">
                                     <h:form class="col-md-1">
                                 
                                        <h:commandLink class="right-not-active" value="&laquo;">
                                            </h:commandLink>
                                    </h:form>
                                </c:if>
                                     <div class="jumbotron multiple-items col-md-10">
                                         <div class="row">
                                            <c:forEach var="album" items="#{IndexMusicBean.albums}">
                                                 <div class="col-lg-4">
                                                <h:form class="specAlbum">
                                                        <div>
                                                            <h:commandLink class="customLink"  action="#{selectedAlbum.editDataItem()}">
                                                                <div><h:graphicImage value="#{album.image}" title="Album's cover" class="albumPic"/>
                                                                    <div><h:outputText value=" #{album.title}"/>
                                                                    <ui:repeat var="artist" value="#{album.artists}"><br/>
                                                                        <h:outputText class="smallText" value="#{artist.name}"></h:outputText>   
                                                                    </ui:repeat><br/>
                                                                    <h:outputText class="smallText" value=" CAD #{album.cost}"/></div>
                                                                </div>
                                                                <f:setPropertyActionListener target="#{selectedAlbum.selectedAlbum}" value="#{album}" />
                                                            </h:commandLink></div></h:form></div>
                                            </c:forEach></div></div>
                                        <c:if  test="#{IndexMusicBean.albumCurrentPage != IndexMusicBean.albumTotalPage}">
                                    <h:form class="col-md-1">
                                        <h:commandLink class="next" value="&raquo;" actionListener="#{IndexMusicBean.albumNext()}">
                                             <f:ajax execute="@form" render="albumtable" /></h:commandLink>
                                   </h:form>
                                </c:if>
                                     <c:if  test="#{IndexMusicBean.albumCurrentPage == IndexMusicBean.albumTotalPage}">
                                    <h:form class="col-md-1">
                                        <h:commandLink class="left-not-active" value="&raquo;" actionListener="#{IndexMusicBean.albumNext()}">
                                             <f:ajax execute="@form" render="albumtable" /></h:commandLink>   </h:form>
                                                            

                                </c:if>
                                </div>
                               
                            </h:panelGroup>
                             <h:panelGroup id="tracktable" class="col-md-9">
                                 <h1 class="display-5">#{internationalization.popularTracks}</h1>
                                <div class="row">  
                                    
                                    <c:if  test="#{IndexMusicBean.trackCurrentPage != 1}">
                                        <h:form class="col-md-1">
                                            <h:commandLink class="prev" value="&laquo;" actionListener="#{IndexMusicBean.trackPrev()}">
                                             <f:ajax execute="@form" render="tracktable" /></h:commandLink>
                                    </h:form> </c:if>
                                <c:if  test="#{IndexMusicBean.trackCurrentPage == 1}">
                                     <h:form class="col-md-1">
                                 
                                        <h:commandLink class="right-not-active" value="&laquo;">
                                            </h:commandLink>
                                    </h:form>
                                </c:if>
                                     <div class="jumbotron multiple-items col-md-10">
                                         <div class="row">
                                             <c:forEach var="track" items="#{IndexMusicBean.tracks}">
                                                 <div class="col-lg-4">
                                                <h:form class="specAlbum">
                                                        <div>
                                                            <h:commandLink class="customLink"  action="#{selectedTrack.editDataItem()}">
                                                                <div><h:graphicImage value="#{track.album.image}" title="Album's cover" class="albumPic"/>
                                                                    <div><h:outputText value=" #{track.title}"/>
                                                                    <ui:repeat var="artist" value="#{track.album.artists}"><br/>
                                                                        <h:outputText class="smallText" value="#{artist.name}"></h:outputText>   
                                                                    </ui:repeat><br/>
                                                                    <h:outputText class="smallText" value=" CAD #{track.cost}"/></div>
                                                                </div>
                                                                <f:setPropertyActionListener target="#{selectedTrack.selectedTrack}" value="#{track}" />
                                                            </h:commandLink></div></h:form></div>
                                            </c:forEach></div></div>
                                    <c:if  test="#{IndexMusicBean.trackCurrentPage != IndexMusicBean.trackTotalPage}">
                                    <h:form class="col-md-1">
                                        <h:commandLink class="next" value="&raquo;" actionListener="#{IndexMusicBean.trackNext()}">
                                             <f:ajax execute="@form" render="tracktable" /></h:commandLink>
                                   </h:form>
                                </c:if>
                                     <c:if  test="#{IndexMusicBean.trackCurrentPage == IndexMusicBean.trackTotalPage}">
                                    <h:form class="col-md-1">
                                        <h:commandLink class="left-not-active" value="&raquo;"/>  </h:form>                                                         
                                </c:if>
                                </div>
                               
                            </h:panelGroup>
                        </div>

                        <div class="col-md-3">
                            <div id="newreleases">
                                <h1 class="display-5">#{internationalization.newreleases}</h1>
                                <div class="card border-primary mb-3">
                                    <h3 class="card-header">#{internationalization.newsongs}</h3>
                                    <div class="card-body">
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item"><a href="#" class="card-link">Hello by gab</a></li>
                                            <li class="list-group-item"> <a href="#" class="card-link">Hello by gab</a></li>
                                        </ul>
                                    </div>
                                    <h3 class="card-header">#{internationalization.newalbums}</h3>
                                    <div class="card-body">
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item"><a href="#" class="card-link">Hello by gab</a></li>
                                            <li class="list-group-item"> <a href="#" class="card-link">Hello by gab</a></li>
                                            <li class="list-group-item"> <a href="#" class="card-link">Hello by gab</a></li>
                                            <li class="list-group-item"> <a href="#" class="card-link">Hello by gab</a></li>

                                        </ul>
                                    </div>
                                </div>
                            </div> 

                            <h:panelGroup rendered="#{empty user}">
                                <h1 class="display-5">#{internationalization.survey}</h1>
                                <p>#{internationalization.surveyuser}</p>
                                <div class="row">
                                    <div class="col-md-3"></div>
                                    <div class="col-md-3"><h:button class="btn btn-primary" value="#{internationalization.loginopt}" outcome="login" /></div>
                                    <div class="col-md-3"><h:button class="btn btn-primary" value="#{internationalization.signup}" outcome="register" /></div>
                                </div>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{not empty user}">
                                <h1 class="display-5">#{internationalization.survey}</h1>
                                <ui:repeat var="survey" value="#{surveyBean.pastSurveys}" size="1">
                                    <p>#{survey.question}</p>
                                    <h:selectOneRadio value="#{surveyResultBean.answer}">
                                        <ui:repeat var="option" value="#{survey.options}">
                                            <f:selectItem itemValue="#{option}" itemLabel="#{option}" />
                                        </ui:repeat>
                                    </h:selectOneRadio>
                                    <h:commandButton type="submit" class="btn btn-primary formbutton" value="#{internationalization.submit}" action="#{surveyResultBean.saveSurvey}"/>    
                                </ui:repeat>
                            </h:panelGroup>
                        </div>
                    </div>


                    <div id="ads" class="card mb-3">
                        <img style="height: 100px; width: 100%; display: block;" src="assets/ads.png" alt="Card image"/>
                    </div>

                </div>

                <div class="tab-pane fade" id="profile">
                    <p>Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit.</p>
                </div>

                <div class="tab-pane fade col-md-12" id="genres">

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>Country</h6></div>
                            <img class="genresimg" src="assets/genre/country.jpg" alt="Card image"/>  
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>EDM</h6></div>
                            <img class="genresimg" src="assets/genre/edm.jpg" alt="Card image"/>  
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>Electro</h6></div>
                            <img class="genresimg" src="assets/genre/electro.jpg" alt="Card image"/>   
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>Hip Hop</h6></div>
                            <img class="genresimg" src="assets/genre/hiphop.jpg" alt="Card image"/>  
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>Jazz</h6></div>
                            <img class="genresimg" src="assets/genre/jazz.jpg" alt="Card image"/> 
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>Kids</h6></div>
                            <img class="genresimg" src="assets/genre/kids.jpg" alt="Card image"/> 
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>Pop</h6></div>
                            <img class="genresimg" src="assets/genre/pop.jpg" alt="Card image"/> 
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>RnB</h6></div>
                            <img class="genresimg" src="assets/genre/randb.jpg" alt="Card image"/> 
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>Reggae</h6></div>
                            <img class="genresimg" src="assets/genre/reggae.jpg" alt="Card image"/> 
                        </div>
                    </div>

                    <div class="card mb-3 displayinline ">
                        <div class="card-body">
                            <div class="card-title"><h6>Rock</h6></div>
                            <img class="genresimg" src="assets/genre/rock.jpg" alt="Card image"/> 
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <ui:include src="footer.xhtml"/>
    <br />
<h:link outcome="welcomePrimefaces" value="Primefaces welcome page" />
</h:body>
</html>